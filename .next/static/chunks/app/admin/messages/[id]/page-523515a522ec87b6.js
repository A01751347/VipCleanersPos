(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7815],{17:(e,s,a)=>{Promise.resolve().then(a.bind(a,89076))},14186:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(19946).A)("clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},28883:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(19946).A)("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]])},35169:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(19946).A)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},35695:(e,s,a)=>{"use strict";var t=a(18999);a.o(t,"useParams")&&a.d(s,{useParams:function(){return t.useParams}}),a.o(t,"usePathname")&&a.d(s,{usePathname:function(){return t.usePathname}}),a.o(t,"useRouter")&&a.d(s,{useRouter:function(){return t.useRouter}}),a.o(t,"useSearchParams")&&a.d(s,{useSearchParams:function(){return t.useSearchParams}})},38564:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(19946).A)("star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]])},39022:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(19946).A)("archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]])},40646:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(19946).A)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},51154:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(19946).A)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},54861:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(19946).A)("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},57434:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(19946).A)("file-text",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]])},69074:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(19946).A)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},71007:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(19946).A)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},89076:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>N});var t=a(95155),l=a(12115),r=a(35695),c=a(51154),i=a(35169),d=a(54861),n=a(97362),o=a(28883),m=a(38564),x=a(39022),h=a(71007),u=a(57434),j=a(40646),p=a(69074),b=a(14186),g=a(6874),y=a.n(g);function N(){var e;let s=(0,r.useParams)();(0,r.useRouter)();let[a,g]=(0,l.useState)(null),[N,f]=(0,l.useState)(!0),[v,A]=(0,l.useState)(null),[k,w]=(0,l.useState)(!1),z=parseInt(s.id,10);(0,l.useEffect)(()=>{if(isNaN(z)){A("ID de mensaje inv\xe1lido"),f(!1);return}D()},[z]);let D=async()=>{try{f(!0);let e=await fetch("/api/admin/messages/".concat(z));if(!e.ok){if(404===e.status)throw Error("Mensaje no encontrado");throw Error("Error al cargar los detalles del mensaje")}let s=await e.json();g(s),A(null),s.is_read||M("read",!0)}catch(e){console.error("Error fetching message details:",e),A(e instanceof Error?e.message:"Error desconocido")}finally{f(!1)}},M=async(e,s)=>{if(a)try{if(w(!0),!(await fetch("/api/admin/messages/".concat(a.id,"/status"),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:e,value:s})})).ok)throw Error("Error al actualizar el estado");await D()}catch(e){console.error("Error updating status:",e),alert("Error al actualizar el estado del mensaje")}finally{w(!1)}};return N?(0,t.jsx)("div",{className:"flex justify-center items-center min-h-screen",children:(0,t.jsx)(c.A,{size:40,className:"animate-spin text-[#78f3d3]"})}):v?(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsx)(y(),{href:"/admin/messages",className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:(0,t.jsx)(i.A,{size:20,className:"text-[#6c7a89]"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-xl font-semibold text-[#313D52]",children:"Mensaje no encontrado"}),(0,t.jsx)("p",{className:"text-sm text-[#6c7a89]",children:"El mensaje solicitado no existe o ha sido eliminado"})]})]}),(0,t.jsxs)("div",{className:"bg-white rounded-lg border border-[#e0e6e5] p-6 text-center",children:[(0,t.jsx)("div",{className:"text-red-500 mb-4",children:(0,t.jsx)(d.A,{size:48,className:"mx-auto"})}),(0,t.jsx)("h2",{className:"text-lg font-semibold text-[#313D52] mb-2",children:"Error"}),(0,t.jsx)("p",{className:"text-[#6c7a89] mb-4",children:v}),(0,t.jsxs)("div",{className:"space-x-4",children:[(0,t.jsx)("button",{onClick:D,className:"px-4 py-2 bg-[#78f3d3] text-[#313D52] rounded-lg hover:bg-[#4de0c0] transition-colors",children:"Reintentar"}),(0,t.jsx)(y(),{href:"/admin/messages",className:"px-4 py-2 bg-gray-100 text-[#313D52] rounded-lg hover:bg-gray-200 transition-colors",children:"Volver a Mensajes"})]})]})]}):a?(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsx)(y(),{href:"/admin/messages",className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:(0,t.jsx)(i.A,{size:20,className:"text-[#6c7a89]"})}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("h1",{className:"text-xl font-semibold text-[#313D52]",children:["Mensaje de ",a.name]}),(0,t.jsx)("p",{className:"text-sm text-[#6c7a89]",children:"Detalles completos del mensaje de contacto"})]})]}),(0,t.jsx)("div",{className:"flex items-center space-x-3",children:(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[a.is_read?(0,t.jsx)(n.A,{size:16,className:"text-[#6c7a89]"}):(0,t.jsx)(o.A,{size:16,className:"text-[#78f3d3]"}),a.is_starred?(0,t.jsx)(m.A,{size:16,className:"text-yellow-400"}):null,a.is_archived?(0,t.jsx)(x.A,{size:16,className:"text-[#6c7a89]"}):null]})})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,t.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[(0,t.jsx)("div",{className:"bg-white rounded-lg border border-[#e0e6e5] p-6",children:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-[#6c7a89] mb-2",children:"Asunto"}),(0,t.jsx)("h2",{className:"text-xl font-semibold text-[#313D52]",children:a.subject})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-[#6c7a89] mb-1",children:"Remitente"}),(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)(h.A,{size:16,className:"text-[#6c7a89] mr-2"}),(0,t.jsx)("p",{className:"text-[#313D52] font-medium",children:a.name})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-[#6c7a89] mb-1",children:"Email"}),(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)(o.A,{size:16,className:"text-[#6c7a89] mr-2"}),(0,t.jsx)("a",{href:"mailto:".concat(a.email),className:"text-[#28d3d3] hover:underline",children:a.email})]})]})]})]})}),(0,t.jsxs)("div",{className:"bg-white rounded-lg border border-[#e0e6e5] p-6",children:[(0,t.jsxs)("div",{className:"flex items-center mb-4",children:[(0,t.jsx)(u.A,{size:20,className:"text-[#78f3d3] mr-2"}),(0,t.jsx)("h3",{className:"text-lg font-semibold text-[#313D52]",children:"Contenido del Mensaje"})]}),(0,t.jsx)("div",{className:"bg-gray-50 rounded-lg p-4",children:(0,t.jsx)("p",{className:"text-[#313D52] whitespace-pre-wrap leading-relaxed",children:a.message})})]}),(0,t.jsxs)("div",{className:"bg-white rounded-lg border border-[#e0e6e5] p-6",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-[#313D52] mb-4",children:"Respuesta R\xe1pida"}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("button",{onClick:()=>window.open("mailto:".concat(a.email,"?subject=Re: ").concat(a.subject,"&body=Hola ").concat(a.name,",%0D%0A%0D%0AGracias por contactarnos.%0D%0A%0D%0ASaludos,%0D%0AEquipo CleanKicks")),className:"w-full flex items-center justify-center px-4 py-3 bg-[#78f3d3] text-[#313D52] rounded-lg hover:bg-[#4de0c0] transition-colors font-medium",children:[(0,t.jsx)(o.A,{size:16,className:"mr-2"}),"Responder por Email"]}),(0,t.jsx)("p",{className:"text-sm text-[#6c7a89] text-center",children:"Se abrir\xe1 tu cliente de email con una respuesta pre-configurada"})]})]})]}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"bg-white rounded-lg border border-[#e0e6e5] p-6",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-[#313D52] mb-4",children:"Acciones"}),(0,t.jsxs)("div",{className:"space-y-3",children:[!a.is_read&&(0,t.jsxs)("button",{onClick:()=>M("read",!0),disabled:k,className:"w-full flex items-center justify-center px-4 py-2 bg-blue-100 text-blue-800 rounded-lg hover:bg-blue-200 transition-colors disabled:opacity-50",children:[(0,t.jsx)(j.A,{size:16,className:"mr-2"}),"Marcar como Le\xeddo"]}),(0,t.jsxs)("button",{onClick:()=>M("starred",!a.is_starred),disabled:k,className:"w-full flex items-center justify-center px-4 py-2 rounded-lg transition-colors disabled:opacity-50 ".concat(a.is_starred?"bg-yellow-100 text-yellow-800 hover:bg-yellow-200":"bg-gray-100 text-gray-800 hover:bg-gray-200"),children:[(0,t.jsx)(m.A,{size:16,className:"mr-2"}),a.is_starred?"Quitar Destacado":"Destacar"]}),(0,t.jsxs)("button",{onClick:()=>M("archived",!a.is_archived),disabled:k,className:"w-full flex items-center justify-center px-4 py-2 rounded-lg transition-colors disabled:opacity-50 ".concat(a.is_archived?"bg-gray-100 text-gray-800 hover:bg-gray-200":"bg-orange-100 text-orange-800 hover:bg-orange-200"),children:[(0,t.jsx)(x.A,{size:16,className:"mr-2"}),a.is_archived?"Desarchivar":"Archivar"]})]})]}),(0,t.jsxs)("div",{className:"bg-white rounded-lg border border-[#e0e6e5] p-6",children:[(0,t.jsxs)("div",{className:"flex items-center mb-4",children:[(0,t.jsx)(p.A,{size:20,className:"text-[#78f3d3] mr-2"}),(0,t.jsx)("h3",{className:"text-lg font-semibold text-[#313D52]",children:"Informaci\xf3n"})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-[#6c7a89] mb-1",children:"Recibido"}),(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)(b.A,{size:14,className:"text-[#6c7a89] mr-2"}),(0,t.jsx)("p",{className:"text-[#313D52]",children:(e=a.created_at)?new Date(e).toLocaleDateString("es-MX",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}):"No especificada"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-[#6c7a89] mb-1",children:"Estado"}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex items-center",children:[a.is_read?(0,t.jsx)(n.A,{size:14,className:"text-green-600 mr-2"}):(0,t.jsx)(o.A,{size:14,className:"text-blue-600 mr-2"}),(0,t.jsx)("span",{className:"text-sm text-[#313D52]",children:a.is_read?"Le\xeddo":"No le\xeddo"})]}),a.is_starred?(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)(m.A,{size:14,className:"text-yellow-600 mr-2"}),(0,t.jsx)("span",{className:"text-sm text-[#313D52]",children:"Destacado"})]}):null,a.is_archived?(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)(x.A,{size:14,className:"text-gray-600 mr-2"}),(0,t.jsx)("span",{className:"text-sm text-[#313D52]",children:"Archivado"})]}):null]})]})]})]})]})]})]}):null}},97362:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(19946).A)("mail-open",[["path",{d:"M21.2 8.4c.5.38.8.97.8 1.6v10a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V10a2 2 0 0 1 .8-1.6l8-6a2 2 0 0 1 2.4 0l8 6Z",key:"1jhwl8"}],["path",{d:"m22 10-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 10",key:"1qfld7"}]])}},e=>{var s=s=>e(e.s=s);e.O(0,[95,8441,1684,7358],()=>s(17)),_N_E=e.O()}]);